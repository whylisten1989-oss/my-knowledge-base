/* MindForge OS - Global Style V4.7 (Final Polish) */
@import url('https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;700&display=swap');

:root {
    --bg-dark: #000000;
    --bg-light: #f8fafc;
    --card-dark: rgba(10, 10, 10, 0.7);
    --card-light: rgba(255, 255, 255, 0.8);
    --sidebar-dark: rgba(5, 5, 5, 0.85);
    --sidebar-light: rgba(255, 255, 255, 0.9);
}

@keyframes slide-down { from { transform: translateY(-100%); opacity: 0; } to { transform: translateY(0); opacity: 1; } }
@keyframes fade-in { from { opacity: 0; } to { opacity: 1; } }
@keyframes logo-breathe {
    0%, 100% { text-shadow: 0 0 10px rgba(59, 130, 246, 0.3), 0 0 20px rgba(59, 130, 246, 0.1); }
    50% { text-shadow: 0 0 20px rgba(59, 130, 246, 0.6), 0 0 40px rgba(59, 130, 246, 0.3); }
}
@keyframes quantum-pulse {
    0%, 100% { height: 15%; opacity: 0.3; background: #3b82f6; box-shadow: 0 0 5px #3b82f6; }
    50% { height: 70%; opacity: 1; background: #a855f7; box-shadow: 0 0 15px #a855f7; }
}

/* ğŸ†• 1. Logo èƒŒå…‰æ•ˆæœ */
.cyber-logo {
    animation: logo-breathe 3s infinite ease-in-out;
}
html:not(.dark) .cyber-logo {
    /* ç™½å¤©æ¨¡å¼å…‰æ•ˆç¨å¾®å¼±ä¸€ç‚¹ï¼Œç”¨æ·±è‰²é˜´å½± */
    text-shadow: 0 0 15px rgba(0,0,0,0.1);
    animation: none;
}

/* 2. èµ›åšå¡ç‰‡ */
.cyber-card {
    border-radius: 16px; backdrop-filter: blur(20px);
    transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
    position: relative; overflow: hidden;
}
.dark .cyber-card { background: var(--card-dark); border: 1px solid rgba(255, 255, 255, 0.08); box-shadow: 0 4px 30px rgba(0, 0, 0, 0.5); }
.dark .cyber-card:hover { transform: translateY(-4px); border-color: rgba(255, 255, 255, 0.3); box-shadow: 0 15px 40px rgba(59, 130, 246, 0.2); }
html:not(.dark) .cyber-card { background: var(--card-light); border: 1px solid rgba(0, 0, 0, 0.05); box-shadow: 0 10px 30px rgba(0, 0, 0, 0.05); }
html:not(.dark) .cyber-card:hover { transform: translateY(-4px); box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1); }

/* 3. æ‚¬æµ®å¯¼èˆªæ  */
.floating-sidebar {
    height: calc(100vh - 32px); margin: 16px 0 16px 16px;
    border-radius: 20px; backdrop-filter: blur(20px); z-index: 50; transition: all 0.3s ease;
}
.dark .floating-sidebar { background: var(--sidebar-dark); border: 1px solid rgba(255,255,255,0.1); box-shadow: 0 0 30px rgba(59,130,246,0.2); }
html:not(.dark) .floating-sidebar { background: var(--sidebar-light); border: 1px solid rgba(0,0,0,0.05); box-shadow: 0 10px 40px rgba(0,0,0,0.1); }

/* 4. æŒ‰é’®ä¸äº¤äº’ */
.nav-item { border-radius: 8px; font-weight: 600; transition: all 0.2s; }
.dark .nav-item { color: #9ca3af; }
.dark .nav-item:hover, .dark .nav-item.active { background: rgba(255,255,255,0.1); color: #fff; }
html:not(.dark) .nav-item { color: #64748b; }
html:not(.dark) .nav-item:hover, html:not(.dark) .nav-item.active { background: rgba(0,0,0,0.05); color: #000; }

.btn-cyber { padding: 8px 20px; font-size: 11px; font-weight: 700; text-transform: uppercase; border-radius: 10px; transition: 0.2s; cursor: pointer; }
.dark .btn-cyber { background: transparent; border: 1px solid rgba(255,255,255,0.2); color: #fff; }
.dark .btn-cyber:hover { background: #fff; color: #000; box-shadow: 0 0 20px rgba(255,255,255,0.4); }
html:not(.dark) .btn-cyber { background: #000; color: #fff; border: none; }
html:not(.dark) .btn-cyber:hover { background: #333; transform: scale(1.05); }

/* 5. Monitor */
.monitor-bar { width: 100%; border-radius: 4px; background: #3b82f6; opacity: 0.8; animation: quantum-pulse 1.5s ease-in-out infinite alternate; }

/* 6. ç§å¯†å¼€å…³ */
.toggle-checkbox { position: absolute; opacity: 0; cursor: pointer; height: 0; width: 0; }
.toggle-label { position: relative; display: block; height: 20px; width: 40px; background: #374151; border-radius: 100px; cursor: pointer; transition: all 0.3s ease; border: 1px solid rgba(255,255,255,0.1); }
.toggle-label:after { content: ''; position: absolute; left: 2px; top: 2px; width: 14px; height: 14px; border-radius: 50%; background: #fff; box-shadow: 0 2px 5px rgba(0,0,0,0.3); transition: all 0.3s cubic-bezier(0.4, 0.0, 0.2, 1); }
.toggle-checkbox:checked + .toggle-label { background: #10b981; border-color: #10b981; }
.toggle-checkbox:checked + .toggle-label:after { left: calc(100% - 16px); }

/* 7. ç¬”è®°å¡ç‰‡ */
.note-card { border-radius: 16px !important; transition: all 0.3s; position: relative; overflow: hidden; }
.dark .note-card { background: #0a0a0a; border: 1px solid rgba(255,255,255,0.05); }
.dark .note-card:hover { transform: translateY(-4px); box-shadow: 0 10px 30px rgba(0,0,0,0.8); border-color: rgba(255,255,255,0.2); }
html:not(.dark) .note-card { background: #fff; border: 1px solid rgba(0,0,0,0.05); }
html:not(.dark) .note-card:hover { transform: translateY(-4px); box-shadow: 0 10px 30px rgba(0,0,0,0.1); }

/* 8. ğŸŸ¢ ä¿®å¤: çŸ¥è¯†åº“æ–‡æ¡£æ ·å¼ (å·¦å¯¹é½ + å¼ºåˆ¶æ¢è¡Œ + æ— æ»šåŠ¨æ¡) */
.note-content-view {
    text-align: left !important; /* å¼ºåˆ¶å·¦å¯¹é½ */
    word-break: break-word;      /* å¼ºåˆ¶é•¿å•è¯æ¢è¡Œ */
    overflow-wrap: break-word;   /* é˜²æ­¢æ’‘å¼€å®¹å™¨ */
    white-space: pre-wrap;       /* ä¿ç•™æ¢è¡Œç¬¦ä½†å…è®¸è‡ªåŠ¨æ¢è¡Œ */
    max-width: 100%;             /* é™åˆ¶å®½åº¦ */
    overflow-x: hidden;          /* éšè—æ¨ªå‘æ»šåŠ¨æ¡ */
}
.note-content-view img { max-width: 100%; height: auto; border-radius: 8px; } /* å›¾ç‰‡è‡ªé€‚åº” */

/* å…¨å±€éšè—æ¨ªå‘æ»šåŠ¨ */
body { overflow-x: hidden; width: 100vw; }
.no-scroll-x { overflow-x: hidden !important; width: 100%; }

/* æ»šåŠ¨æ¡ç¾åŒ– */
::-webkit-scrollbar { width: 4px; height: 4px; }
::-webkit-scrollbar-track { background: transparent; }
::-webkit-scrollbar-thumb { background: #333; border-radius: 2px; }
html:not(.dark) ::-webkit-scrollbar-thumb { background: #cbd5e1; }

.cyber-input { width: 100%; padding: 12px; border-radius: 10px; outline: none; transition: 0.3s; font-family: 'JetBrains Mono', monospace; }
.dark .cyber-input { background: rgba(0,0,0,0.5); border: 1px solid rgba(255,255,255,0.1); color: white; }
.dark .cyber-input:focus { border-color: #3b82f6; }
html:not(.dark) .cyber-input { background: #fff; border: 1px solid #e2e8f0; color: #000; }
html:not(.dark) .cyber-input:focus { border-color: #000; }